<div class="m-content">
    <div class="row">
        <div class="col-lg-6">
            <!--begin::Portlet-->
            <div class="m-portlet">
                <div class="m-portlet__head">
                    <div class="m-portlet__head-caption">
                        <div class="m-portlet__head-title">
                            <h3 class="m-portlet__head-text">
                                {{l("OrganizationUnits")}}
                            </h3>
                        </div>
                    </div>
                    <div class="m-portlet__head-tools">
                        <ul class="m-portlet__nav">
                            <li class="m-portlet__nav-item">
                                <a (click)="createOUnit()" href="#" class="btn btn-accent m-btn m-btn--custom m-btn--icon m-btn--air m-btn--pill">
                                    <span>
                                        <i class="la la-user-plus"></i>
                                        <span>
                                            {{l("New")}}
                                        </span>
                                    </span>
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="m-portlet__body">
                    <m-jstree [emptyText]="l('暂无组织机构')" (onSelectNodeChanged)="selectOuoChanged($event)" [config]="treeConfig"></m-jstree>
                </div>
            </div>
            <!--end::Portlet-->
        </div>
        <div class="col-lg-6">
            <!--begin::Portlet-->
            <div class="m-portlet">
                <div class="m-portlet__head">
                    <div class="m-portlet__head-caption">
                        <div class="m-portlet__head-title">
                            <h3 class="m-portlet__head-text">
                                {{l("Users")}}
                            </h3>
                        </div>
                    </div>
                    <div *ngIf="jsTree?.selectedItem" class="m-portlet__head-tools">
                        <ul class="m-portlet__nav">
                            <li class="m-portlet__nav-item">
                                <a (click)="showUserModal()" href="#" class="btn btn-accent m-btn m-btn--custom m-btn--icon m-btn--air m-btn--pill">
                                    <span>
                                        <i class="la la-user-plus"></i>
                                        <span>
                                            {{l("Add Person")}}
                                        </span>
                                    </span>
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="m-portlet__body">
                    <p *ngIf="!jsTree?.selectedItem">{{l("请选择一个组织机构")}}</p>
                    <m-datatable #mDatatable id="userInUnitTable" [config]="tableConfig" *ngIf="jsTree?.selectedItem"></m-datatable>
                </div>
            </div>
            <!--end::Portlet-->
        </div>
    </div>
</div>
<create-update-ounit-modal #createOUnitModal (modalSave)="refresh()"></create-update-ounit-modal>
<select-user-modal (modalSave)="userSelectComplete($event)"></select-user-modal>
